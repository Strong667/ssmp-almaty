## Описание проекта

**SSMP Almaty** - официальный сайт государственного учреждения с админ-панелью для управления контентом.

### Основные функции:
- **Публичный сайт**: главная страница с новостями, информацией об администрации, графике приёма граждан, структуре организации, миссии и ценностях
- **Админ-панель MoonShine**: управление контентом через удобный интерфейс
- **Управление новостями**: создание, редактирование новостей с изображениями и видео
- **Галерея изображений**: управление изображениями для главной страницы
- **Управление администрацией**: информация о руководстве организации
- **График приёма граждан**: расписание приёма посетителей
- **Структура организации**: информация о подразделениях
- **Миссия и ценности**: описание миссии и ценностей организации

### Архитектура:
- **Backend**: Laravel 12 + MoonShine 4.0 (админ-панель)
- **Frontend**: Blade шаблоны + Bootstrap 5.3.3 + Vite
- **База данных**: MySQL с миграциями Laravel

## План обзора проекта (2025-11-11)

- [x] Собрать ключевые артефакты (маршруты, контроллеры, модели, ресурсы MoonShine)
- [x] Разобрать фронтенд-шаблоны и компоненты
- [x] Проанализировать миграции и структуру данных
- [x] Сформировать описание назначения проекта и основных функций
- [x] Подготовить обзор возможностей MoonShine-админки

## План по главной странице

- [ ] Сформировать минимально необходимую структуру данных главной страницы (название, описания секций, контакты, блоки «О нас», «Администрация», «График приёма» и др.) и согласовать с бэком MoonShine.
- [ ] Создать миграцию и модель `LandingPage` с заполнителями и кастами для сложных полей.
- [ ] Реализовать сервис `LandingPageService` для чтения данных модели с соблюдением принципов SOLID.
- [ ] Подготовить контроллер/маршрут для выдачи данных главной страницы на фронт.
- [ ] Сверстать стартовый Blade-шаблон главной страницы на основе новой модели данных.

## План по переделке фронтенда в стиле Aventro

- [x] Обновить header в стиле Aventro: современный дизайн, sticky навигация, плавные переходы.
- [x] Создать hero секцию с большим заголовком и CTA кнопками в стиле Aventro.
- [x] Переделать секции новостей, видео и карты в современном стиле с карточками.
- [x] Обновить footer в стиле Aventro с современной типографикой.
- [x] Добавить глобальные стили и анимации в стиле Aventro.

## Версии технологий

### Backend
- **PHP**: ^8.2 (текущая версия: 8.4.13)
- **Laravel Framework**: ^12.0 (текущая версия: 12.37.0)
- **MoonShine**: ^4.0 (текущая версия: 4.0.1)
- **MoonShine TinyMCE**: ^2.0

### Frontend
- **Bootstrap**: 5.3.3 (подключен через CDN)
- **Bootstrap Icons**: через CDN
- **Vite**: ^7.0.7 (для сборки ассетов)
- **Tailwind CSS**: ^4.0.0 (через Vite плагин)
- **Axios**: ^1.11.0
- **Blade**: шаблонизатор Laravel

### База данных
- **MySQL**: основная БД
- **Миграции**: Laravel migrations для управления схемой БД

### Объяснение версий

**Laravel 12** - последняя мажорная версия фреймворка с улучшенной производительностью и новыми возможностями.

**MoonShine 4.0** - значительное обновление админ-панели с новой архитектурой:
- Поля определяются в страницах (метод `fields()`), а не в ресурсах
- Изменена структура ресурсов - методы `indexFields()`, `formFields()` перенесены в страницы
- Удален метод `searchable()` для полей - поиск настраивается через метод `search()` в ресурсе
- Изменена конфигурация аутентификации - `auth.middleware` должен быть массивом
- Требуется явное указание кастомных страниц через метод `pages()` в ресурсе

**PHP 8.2+** - современная версия PHP с улучшенной производительностью и поддержкой новых возможностей языка.

## Текущая структура проекта

ssmp-almaty/
├── app/                                    // PHP код приложения
│   ├── Console/Commands/
│   │   └── DebugSettingPayload.php        // команда для отладки
│   ├── Http/Controllers/
│   │   ├── Controller.php                 // базовый контроллер
│   │   ├── Frontend/
│   │   │   └── HomeController.php         // контроллер главной страницы, загружает новости и изображения
│   │   └── Storage/
│   │       └── PublicStorageController.php // контроллер для публичной раздачи файлов из storage
│   ├── Models/                             // Eloquent модели
│   │   ├── Admin.php                       // модель администрации (full_name, position, email, image)
│   │   ├── CitizenSchedule.php            // модель графика приёма граждан (full_name, position, day, time)
│   │   ├── MissionValue.php               // модель миссии и ценностей (title, description)
│   │   ├── News.php                        // модель новостей (title, slug, description, video_url, image, published_at)
│   │   ├── Setting.php                    // модель настроек (main_image для галереи)
│   │   ├── Structure.php                   // модель структуры (title, image)
│   │   └── User.php                        // модель пользователей Laravel
│   ├── MoonShine/                          // кастомизация MoonShine-админки
│   │   ├── Layouts/
│   │   │   └── MoonShineLayout.php         // макет панели управления с меню "Главный экран" и "О нас"
│   │   ├── Pages/                           // кастомные страницы для ресурсов
│   │   │   ├── Dashboard.php                // дашборд MoonShine
│   │   │   ├── MoonShineUser/               // страницы для управления пользователями админки
│   │   │   │   ├── MoonShineUserIndexPage.php
│   │   │   │   └── MoonShineUserFormPage.php
│   │   │   └── MoonShineUserRole/           // страницы для управления ролями
│   │   │       ├── MoonShineUserRoleIndexPage.php
│   │   │       └── MoonShineUserRoleFormPage.php
│   │   └── Resources/                      // ресурсы MoonShine (CRUD для моделей)
│   │       ├── Admin/                       // CRUD администрации
│   │       │   └── AdminResource.php
│   │       ├── CitizenSchedule/             // CRUD графика приёма граждан
│   │       │   └── CitizenScheduleResource.php
│   │       ├── MissionValue/                // CRUD миссии и ценностей
│   │       │   └── MissionValueResource.php
│   │       ├── MoonShineUser/               // CRUD админ-пользователей (использует кастомные страницы)
│   │       │   └── MoonShineUserResource.php
│   │       ├── MoonShineUserRole/           // CRUD ролей (использует кастомные страницы)
│   │       │   └── MoonShineUserRoleResource.php
│   │       ├── News/                        // CRUD новостей
│   │       │   └── NewsResource.php
│   │       ├── Setting/                     // CRUD настроек (галерея изображений)
│   │       │   └── SettingResource.php
│   │       └── Structure/                   // CRUD структуры
│   │           └── StructureResource.php
│   ├── Providers/
│   │   ├── AppServiceProvider.php           // сервис-провайдер приложения
│   │   └── MoonShineServiceProvider.php     // регистрация ресурсов MoonShine
│   └── Services/
│       └── Storage/
│           └── PublicStorageService.php     // сервис для раздачи публичных файлов
├── config/                                  // конфигурационные файлы
│   ├── auth.php                            // конфигурация аутентификации (добавлен guard 'moonshine')
│   ├── filesystems.php                     // конфиг дисков: публичный корень /storage
│   └── moonshine.php                       // конфигурация MoonShine 4.0
├── database/migrations/                     // миграции БД
│   ├── 0001_01_01_000000_create_users_table.php
│   ├── 0001_01_01_000001_create_cache_table.php
│   ├── 0001_01_01_000002_create_jobs_table.php
│   ├── 2020_10_04_115514_create_moonshine_roles_table.php
│   ├── 2020_10_05_173148_create_moonshine_tables.php
│   ├── 2025_11_10_144815_create_notifications_table.php
│   ├── 2025_11_10_152732_create_settings_table.php
│   ├── 2025_11_11_113824_create_news_table.php
│   ├── 2025_11_11_200000_add_slug_to_news_table.php // добавление slug с уникальным индексом
│   └── 2025_11_11_201500_update_news_fields.php    // замена content на description и video_url
├── public/                                  // публичная директория
│   ├── slujba.png                          // логотип для хедера
│   └── build/                              // скомпилированные Vite ассеты
│       ├── manifest.json
│       └── assets/
├── resources/                               // исходники фронтенда
│   ├── css/app.css                         // глобальные стили Vite
│   ├── js/
│   │   ├── app.js                          // JS-энтрипойнт (Vite)
│   │   └── bootstrap.js                    // Bootstrap инициализация
│   └── views/                              // Blade-шаблоны фронтенда
│       ├── frontend/
│       │   ├── components/
│       │   │   ├── footer.blade.php         // футер с контактами и кнопкой "Наверх"
│       │   │   └── header.blade.php        // прозрачный header с навигацией и переключателем темы
│       │   ├── layouts/
│       │   │   └── app.blade.php           // общий каркас страниц (header, main, footer, JS для темы и скролла)
│       │   └── home.blade.php              // главная страница: hero секция, новости (карусель), видео/карта, галерея
│       └── welcome.blade.php                // стандартная заглушка Laravel
├── routes/
│   └── web.php                             // веб-маршруты: главная, storage/{path} для публичных файлов
├── storage/app/public/                     // публичные файлы
│   ├── main/                               // изображения галереи
│   └── news/                               // изображения новостей
└── tasks/
    └── todo.md                             // текущий план/заметки

## Review

- Обновлён `resources/views/frontend/layouts/app.blade.php`: у тега `body` обнулён margin, чтобы фон хедера тянулся во всю ширину.
- Файл `slujba.png` перенесён в `public/slujba.png`, чтобы можно было подгружать логотип из Blade-шаблонов.
- Подключён Bootstrap 5.3.3 и Bootstrap Icons через CDN в `resources/views/frontend/layouts/app.blade.php`, чтобы использовать готовые UI-компоненты.
- Полностью переработан `resources/views/frontend/components/header.blade.php`: задействованы Bootstrap-компоненты (navbar, grid, формы), добавлены иконки Bootstrap Icons; в шапке оставлен только крупный логотип, селектор языка и поиск, навигация — через collapse.
- Обновлён `resources/views/frontend/components/footer.blade.php`: вынесены контакты (адрес, email, телефоны, call-центр) в отдельные колонки, добавлена форма подписки, использованы цвета и сетка Bootstrap.
- Обновлён `HomeController` и `frontend/home.blade.php`: вместо текста выводится сетка изображений из записей `settings`, данные сортируются по дате обновления.
- Обновлён `SettingResource`: убраны поля заголовка и описания, оставлена загрузка изображения и обновлена валидация (проверка файла/типа); админка работает как галерея, убран недоступный метод `rounded()`.
- Для галереи изображения получают корректный публичный URL через `Storage::disk('public')->url(...)`; диск `public` переопределён на относительный путь (`/storage`), кеш конфигурации очищен, чтобы браузер не обращался к `http://localhost`.
- На главной вместо сетки теперь бесконечная горизонтальная витрина: изображения дублируются, прокручиваются CSS-анимацией (останавливается при hover), адаптируются под ширину экрана; секция без фона, сверху в одной строке стоят блоки YouTube и карта одинакового размера.
- Привёл `NewsResource::beforeCreating/beforeUpdating` к сигнатуре MoonShine (`mixed $item): mixed`) и возвращаю модель после генерации slug.
- `HomeController` подгружает последние новости (`News`) с публичными URL изображений, `home.blade.php` выводит их сеткой карточек с картинкой и датой.
- Фронтенд полностью переделан в стиле Aventro: header с sticky навигацией и плавными переходами, hero секция с градиентным фоном и CTA кнопками, секции новостей/видео/карты в виде современных карточек с тенями и hover-эффектами, footer в тёмном стиле с колонками навигации и контактов, добавлены глобальные стили с шрифтом Poppins и плавной прокруткой, мобильная адаптация с выезжающим меню.
- Добавлен переключатель темы (темный/светлый режим): кнопка в header с иконками солнца/луны, автоматическое определение системной темы, сохранение выбора в localStorage, адаптированные стили для всех секций в темной теме.
- Header сделан прозрачным с эффектом blur: по умолчанию `rgba(255, 255, 255, 0.1)` с `backdrop-filter: blur(10px)`, при скролле > 100px затемняется до `rgba(255, 255, 255, 0.95)`, белый текст с тенью в прозрачном состоянии, темный текст при скролле, адаптировано для темной темы.
- Добавлена кнопка "Наверх" (Masthead): фиксированная позиция в правом нижнем углу, появляется при скролле > 300px, плавная прокрутка наверх при клике, адаптирована для мобильных устройств, работает в обеих темах.
- Hero секция получила CSS паттерн с точками и шестиугольниками: сетка точек разного размера через radial-gradient, шестиугольники через repeating-linear-gradient под углами 0°/60°/120°, эффект перспективы через transform: perspective(), полупрозрачные элементы поверх градиентного фона.
- Таблица `news` обновлена: добавлено поле `slug` с уникальным индексом и автогенерацией для кириллицы, поля `description` и `video_url` вместо `content`, формат даты изменён на русский с месяцем прописью (например, "28 октября, 2025").
- Новости отображаются в горизонтальном карусельном формате: заголовок "НОВОСТИ" слева сверху, карточки фиксированной ширины (380px) с горизонтальной прокруткой, каждая карточка содержит изображение, заголовок, дату и кнопку "Читать Новость".
- Создан `PublicStorageService` и маршрут `storage/{path}` для публичной раздачи файлов из `storage/app/public`, отключена автогенерация защищённого маршрута для приватного диска в `config/filesystems.php`.
- Ресурсы `SettingResource` и `NewsResource` сгруппированы в меню MoonShine под разделом "Главный экран" в `MoonShineLayout.php`.
- Обновление MoonShine с версии 3 на версию 4: добавлен guard 'moonshine' в `config/auth.php` с provider и password reset broker для корректной работы аутентификации; исправлены типы возвращаемых значений в `NewsResource` (array -> iterable, методы сделаны protected) для совместимости с MoonShine 4; исправлен `auth.middleware` в `config/moonshine.php` (должен быть массивом `[Authenticate::class]`); исправлены сигнатуры методов `rules()` и `saving()` в `NewsResource` (параметры должны быть `mixed`, методы должны быть `protected`); удален метод `searchable()` из полей - поиск настроен через метод `search()` в ресурсе; созданы кастомные страницы для `MoonShineUserResource` и `MoonShineUserRoleResource` (`app/MoonShine/Pages/MoonShineUser/*` и `app/MoonShine/Pages/MoonShineUserRole/*`) для использования кастомных ресурсов вместо ресурсов из vendor; удалены методы `indexFields()`, `formFields()`, `detailFields()` из ресурсов - поля теперь определяются в страницах через метод `fields()`; все ресурсы проверены на совместимость с новой версией.
- Создана модель `EthicalCode` с полями `title` и `pdf_path`: исправлена миграция (поле `pdf_path` сделано nullable); исправлены namespace полей в `EthicalCodeFormPage` (использованы правильные классы `MoonShine\UI\Fields\*`); добавлены поля в `EthicalCodeIndexPage` и `EthicalCodeDetailPage` (ID, Text, File); добавлен метод `pages()` в `EthicalCodeResource` для указания кастомных страниц; модель обновлена с добавлением метода `casts()` для дат; создан метод `ethicalCode()` в `AboutController` для загрузки данных с публичными URL PDF файлов; добавлен маршрут `/about/ethical-code`; создан Blade шаблон `frontend/about/ethical-code.blade.php` для отображения списка документов этического кодекса с возможностью скачивания PDF файлов.
- Обновлена главная страница `HomePage`: добавлена форма обратной связи с использованием `FormBuilder`, полей `Email`, `Text`, `Textarea` и кнопки `ActionButton`; добавлены дополнительные компоненты MoonShine для наглядности: `Div` для группировки элементов, `Flex` для горизонтального размещения ссылок, `Link` с иконками для навигации; структура фронтенда объяснена: главная страница создана через класс `HomePage`, который расширяет `Page` и использует `GuestLayout` для отображения публичных страниц, компоненты возвращаются через метод `components()` в виде массива `ComponentContract`; форма использует `FormMethod::POST` enum и настроена на отправку на маршрут `home`.
- **Миграция с GuestLayout на Blade шаблоны**: создан контроллер `FrontendController` для обработки всех публичных страниц (home, administration, schedule, structure, mission, newsList, newsDetail); обновлены роуты в `web.php` для использования blade views вместо MoonShine Pages; созданы blade views для основных страниц (`frontend/about/administration.blade.php`, `frontend/about/schedule.blade.php`, `frontend/about/structure.blade.php`, `frontend/about/mission.blade.php`, `frontend/news/list.blade.php`, `frontend/news/detail.blade.php`); обновлен `header.blade.php` с полным меню навигации из GuestLayout (все дропдауны: О нас, Государственные закупки, Жителям Алматы, Государственные услуги, Государственные символы, Комплаенс служба, Картограмма коррупции); убрано использование `GuestLayout` из всех переделанных Page классов (`HomePage`, `AdministrationPage`, `SchedulePage`, `StructurePage`, `MissionPage`, `NewsListPage`, `NewsDetailPage`); обновлена ссылка на новости в `home.blade.php` для корректной навигации.
- **Переделка страницы подстанции по дизайну блога директора**: обновлен `resources/views/frontend/substations/show.blade.php` - добавлена секция breadcrumbs как в блоге директора (навигация с иконкой дома и названием подстанции); переделана структура отображения информации о подстанции - название, адрес и телефон оформлены в стиле директора с иконками и разделителями; обновлены стили страницы - использованы те же цвета, шрифты и отступы, что и в блоге директора (цвет #0d9488 для иконок, шрифт Montserrat, единообразные отступы); карточки сотрудников стилизованы в том же стиле с более мягкими тенями и hover-эффектами; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлен заголовок "Сотрудники" перед списком сотрудников в стиле секций блога директора.
- **Переделка страницы администрации по дизайну блога директора**: обновлен `resources/views/frontend/about/administration.blade.php` - добавлена секция breadcrumbs как в блоге директора (навигация с иконкой дома и названием "Администрация"); переделана структура отображения - заголовок "Администрация" вынесен в отдельную секцию в стиле блога директора; обновлены стили страницы - использованы те же цвета, шрифты и отступы, что и в блоге директора (цвет #0d9488 для иконок и позиций, шрифт Montserrat, единообразные отступы); карточки администрации стилизованы в том же стиле с более мягкими тенями и hover-эффектами; email оформлен с иконкой конверта в стиле блога директора; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлен placeholder для фото без изображения в едином стиле.
- **Переделка страницы графика приёма граждан по дизайну блога директора**: обновлен `resources/views/frontend/about/schedule.blade.php` - добавлена секция breadcrumbs как в блоге директора (навигация с иконкой дома и названием "График приёма граждан"); переделана структура отображения - заголовок "График приёма граждан" вынесен в отдельную секцию в стиле блога директора; улучшена таблица графика - убран столбец ID, добавлены иконки для ФИО (персона), дня (календарь) и времени (часы) в цвете #0d9488; обновлены стили таблицы - использованы те же цвета, шрифты и отступы, что и в блоге директора (шрифт Montserrat, единообразные отступы, скругленные углы, тени); таблица имеет hover-эффекты для строк; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлена адаптивность для мобильных устройств с горизонтальной прокруткой таблицы.
- **Переделка страниц Структура, Миссия и ценности, Этический кодекс, Отчёты о доходах и расходах по дизайну блога директора**: обновлены все четыре страницы (`resources/views/frontend/about/structure.blade.php`, `resources/views/frontend/about/mission.blade.php`, `resources/views/frontend/about/ethical-code.blade.php`, `resources/views/frontend/about/income-expense.blade.php`) - добавлены секции breadcrumbs как в блоге директора (навигация с иконкой дома и названием страницы); переделана структура отображения - убраны заголовки section-header, контент начинается сразу после breadcrumbs; обновлены стили всех страниц - использованы те же цвета, шрифты (Montserrat) и отступы, что и в блоге директора (цвет #0d9488 для иконок и акцентов, единообразные отступы padding: 40px 0, скругленные углы 8px, мягкие тени); карточки стилизованы в едином стиле с hover-эффектами; кнопки и иконки оформлены в цвете #0d9488; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлены placeholders для изображений в едином стиле; улучшена адаптивность для мобильных устройств.
- **Создание blade шаблона для страницы Вакансия**: добавлен метод `vacancyEmployment()` в `AboutController` для загрузки вакансий (Vacancy) и информации для медицинских специалистов (MedicalEmploymentInfo); создан blade шаблон `resources/views/frontend/about/vacancy-employment.blade.php` по дизайну блога директора - добавлены breadcrumbs, две секции (информация для медицинских специалистов и вакансии), карточки с иконками в цвете #0d9488, единообразные стили; обновлен роут в `web.php` для использования blade шаблона вместо MoonShine Page; страница показывает информацию для медицинских специалистов (с возможностью скачивания файлов) и список вакансий (с графиком работы и контактными данными); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для страниц Документы и Сфера деятельности**: добавлены методы `documents()` и `activitySphere()` в `AboutController` - `documents()` загружает категории документов (CorporateDocument) с документами (Document) и формирует публичные URL для файлов, `activitySphere()` загружает информацию о сфере деятельности (ActivitySphere); создан blade шаблон `resources/views/frontend/about/documents.blade.php` по дизайну блога директора - добавлены breadcrumbs, карточки категорий с иконками папок, список документов с иконками PDF и кнопками для открытия/скачивания файлов, единообразные стили; создан blade шаблон `resources/views/frontend/about/activity-sphere.blade.php` по дизайну блога директора - добавлены breadcrumbs, карточки для разделов (Общая информация, Миссия, Цель, История) с иконками в цвете #0d9488, единообразные стили; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для страниц План государственных закупок, Объявления и Протоколы**: добавлены методы `procurementPlan()`, `announcements()` и `protocols()` в `AboutController` - `procurementPlan()` загружает планы закупок (ProcurementPlan) с публичными URL файлов, `announcements()` загружает категории объявлений (AnnouncementCategory) с объявлениями (Announcement) и формирует публичные URL для файлов, `protocols()` загружает протоколы (Protocol) и группирует их по годам; создан blade шаблон `resources/views/frontend/about/procurement-plan.blade.php` по дизайну блога директора - добавлены breadcrumbs, карточки планов с иконками, годом и кнопками для открытия/скачивания файлов; создан blade шаблон `resources/views/frontend/about/announcements.blade.php` по дизайну блога директора - добавлены breadcrumbs, аккордеон Bootstrap для категорий объявлений, текст объявлений и кнопки для файлов; создан blade шаблон `resources/views/frontend/about/protocols.blade.php` по дизайну блога директора - добавлены breadcrumbs, аккордеон Bootstrap для группировки протоколов по годам, карточки протоколов с иконками и кнопками для файлов; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Жителям Алматы**: добавлены методы `medicalHelpForForeigners()`, `legalFramework()`, `emergencyServiceRules()`, `socialInsurance()`, `rubricForPopulation()` и `rubricForPopulationDetail()` в `AboutController` - все методы загружают соответствующие модели и формируют публичные URL для файлов и изображений; создан blade шаблон `resources/views/frontend/about/medical-help-for-foreigners.blade.php` - карточки с заголовком и описанием; создан blade шаблон `resources/views/frontend/about/legal-framework.blade.php` - текст с возможными ссылками; создан blade шаблон `resources/views/frontend/about/emergency-service-rules.blade.php` - текст правил; создан blade шаблон `resources/views/frontend/about/social-insurance.blade.php` - поддержка типов контента (text, image, video) с встроенным YouTube; создан blade шаблон `resources/views/frontend/about/rubric-for-population.blade.php` - сетка карточек с изображениями и ссылками на детальные страницы; создан blade шаблон `resources/views/frontend/about/rubric-for-population-detail.blade.php` - детальная страница с поддержкой типов контента (text, pdf, video, images); обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Государственные услуги**: добавлены методы `stateServices()`, `registryOfStateServices()`, `stateServiceStandards()` и `stateServiceRegulations()` в `AboutController` - все методы загружают соответствующие модели (StateServices, RegistryOfStateServices, StateServiceStandards, StateServiceRegulations); создан blade шаблон `resources/views/frontend/about/state-services.blade.php` - карточки с текстом и возможными ссылками; создан blade шаблон `resources/views/frontend/about/registry-of-state-services.blade.php` - карточки с текстом и возможными ссылками; создан blade шаблон `resources/views/frontend/about/state-service-standards.blade.php` - карточки с текстом и возможными ссылками; создан blade шаблон `resources/views/frontend/about/state-service-regulations.blade.php` - карточки с текстом и возможными ссылками; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Государственные символы**: добавлены методы `stateFlag()`, `stateEmblem()` и `stateAnthem()` в `AboutController` - все методы загружают первую запись из соответствующих моделей (StateFlag, StateEmblem, StateAnthem) и формируют публичные URL для изображений и аудио файлов; создан blade шаблон `resources/views/frontend/about/state-flag.blade.php` - изображение флага и описание; создан blade шаблон `resources/views/frontend/about/state-emblem.blade.php` - изображение герба и описание; создан blade шаблон `resources/views/frontend/about/state-anthem.blade.php` - изображение, описание, аудио плеер для гимна и текст гимна; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблона для страницы Платные услуги**: добавлен метод `paidServices()` в `AboutController` - загружает платные услуги (PaidService) и формирует публичные URL для изображений; создан blade шаблон `resources/views/frontend/about/paid-services.blade.php` - сетка карточек с изображениями платных услуг (4 колонки на больших экранах, адаптивная сетка для мобильных устройств), карточки с hover-эффектами и масштабированием изображений; обновлен роут в `web.php` для использования blade шаблона вместо MoonShine Page; страница использует единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Комплаенс служба**: добавлены методы `complianceOfficerPlan()`, `corruptionRiskAnalysis()` и `internalRegulations()` в `AboutController` - все методы загружают соответствующие модели (ComplianceOfficerPlan, InternalCorruptionRiskAnalysis, InternalRegulations) и формируют публичные URL для файлов; создан blade шаблон `resources/views/frontend/about/compliance-officer-plan.blade.php` - карточки с заголовком, встроенным PDF в iframe и кнопками для открытия/скачивания файлов; создан blade шаблон `resources/views/frontend/about/corruption-risk-analysis.blade.php` - список документов с иконками PDF и ссылками на файлы; создан blade шаблон `resources/views/frontend/about/internal-regulations.blade.php` - список документов с иконками PDF и ссылками на файлы; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Картограмма коррупции**: добавлены методы `corruptionRiskPositions()`, `corruptionRiskList()` и `corruptionRiskMap()` в `AboutController` - все методы загружают соответствующие модели (CorruptionRiskPosition, CorruptionRiskList, CorruptionRiskMap) и формируют публичные URL для файлов; создан blade шаблон `resources/views/frontend/about/corruption-risk-positions.blade.php` - список документов с иконками PDF и ссылками на файлы; создан blade шаблон `resources/views/frontend/about/corruption-risk-list.blade.php` - список документов с иконками PDF и ссылками на файлы; создан blade шаблон `resources/views/frontend/about/corruption-risk-map.blade.php` - список документов с иконками PDF и ссылками на файлы; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Улучшение дропдаунов навигации**: обновлены стили дропдаунов в `resources/views/frontend/layouts/app.blade.php` - уменьшены padding (8px 16px вместо 12px 20px), font-size (13px вместо 14px), min-width (240px вместо 280px), padding меню (6px 0 вместо 8px 0), margin-top (6px вместо 8px); добавлена граница для дропдауна (1px solid rgba(0, 0, 0, 0.08)); улучшены тени (более четкие и компактные); добавлен text-transform: uppercase и letter-spacing для элементов меню; убраны лишние эффекты (translateX, ::before элемент); добавлен JavaScript для задержки закрытия дропдаунов при наведении (200ms) - дропдауны открываются по hover и не закрываются сразу при выходе курсора; улучшены стили для темной темы; дропдауны стали более компактными и четкими, как на референсном изображении.
- **Обновление секции новостей на главной странице**: убран `section-header` (заголовок "НОВОСТИ" и описание) из секции новостей в `resources/views/frontend/home.blade.php` - секция теперь начинается сразу с сетки карточек новостей; изменен лимит новостей с 6 на 3 в `app/Http/Controllers/Frontend/HomeController.php` - на главной странице отображаются только последние 3 новости.
- **Исправление сортировки новостей по дате**: обновлена сортировка новостей в `app/Http/Controllers/Frontend/FrontendController.php` (методы `home()` и `newsList()`) и `app/Http/Controllers/Frontend/HomeController.php` - используется `COALESCE(published_at, created_at) DESC` для правильной сортировки по дате (если `published_at` NULL, используется `created_at`); на главной странице установлен лимит на 3 самые свежие новости (последние по дате); все новости теперь правильно распределены по дате - самые свежие первыми.
- **Удаление section-header из секции Галерея**: убран `section-header` (заголовок "Галерея" и описание) из секции галереи в `resources/views/frontend/home.blade.php` - секция теперь начинается сразу с карусели изображений.
- **Переделка футера согласно дизайну на картинке**: обновлен `resources/views/frontend/components/footer.blade.php` - футер переделан в три колонки: левая колонка с контактной информацией (КАНЦЕЛЯРИЯ с email, СЛУЖБА ПОДДЕРЖКИ ПАЦИЕНТА с email, CALL-ЦЕНТР с часами работы и телефоном, WHATSAPP CALL-ЦЕНТР с телефоном), средняя колонка с навигацией (ОТДЕЛЕНИЯ, ЕДИНЫЙ МЕДИЦИНСКИЙ CALL ЦЕНТР, ОСТАВИТЬ ОТЗЫВ / ЗАДАТЬ ВОПРОС, КОНТАКТЫ), правая колонка с информацией о больнице (ЭЛЕКТРОННОЕ ПРАВИТЕЛЬСТВО, ОБЩИЕ ВОПРОСЫ, КЛИНИЧЕСКИЕ ПРОТОКОЛЫ, логотип больницы, название больницы в несколько строк, адрес); обновлены стили футера в `resources/views/frontend/layouts/app.blade.php` - футер получил светлый фон с градиентом (светло-голубой/белый) и фоновым изображением гор, синий текст (#2c4964), иконки для контактов (конверт для email, телефон для call-центра, WhatsApp для WhatsApp), стили для всех элементов футера (контактная информация, навигация, логотип и название больницы), поддержка темной темы с адаптированными цветами; использованы собственные данные из текущего футера (email: Kgpssmp@ssmp-almaty.kz, телефоны: +7 (727) 279-46-14 и +7 (727) 300-05-05, адрес: Алматы, ул. Казыбек би, 115).
- **Обновление цветовой схемы главной страницы согласно дизайну**: изменены цвета элементов главной страницы с зеленого/бирюзового (#0d9488) на желтый (#FFC107) для соответствия дизайну на изображении - обновлены стили кнопок быстрых ссылок в `resources/views/frontend/layouts/app.blade.php` (фон #FFC107, текст #212529, hover #FFB300); обновлены стили иконок подстанций в `resources/views/frontend/home.blade.php` (фон #FFC107 для department-icon, цвет #FFC107 для иконок в department-meta-item); обновлены стили активной вкладки "Подстанции" (фон #FFC107, текст #212529, тень с желтым оттенком); обновлены стили для темной темы - активная вкладка и иконки также используют желтый цвет (#FFC107); все изменения соответствуют дизайну на изображении, где желтый цвет используется для акцентных элементов.
- **Обновление градиента фона хедера**: изменен градиент фона хедера в `resources/views/frontend/layouts/app.blade.php` с `linear-gradient(135deg, rgba(44, 73, 100, 0.7) 0%, rgba(25, 119, 204, 0.7) 100%)` на `linear-gradient(135deg, rgba(44, 73, 100, 0.7) 0%, rgb(4 22 39 / 70%) 100%)` - обновлен градиент для `#header` и `#header::before`; обновлен градиент для темной темы `[data-theme="dark"] #header` и `[data-theme="dark"] #header::before` на тот же градиент для единообразия.
- **Переделка логики Платные услуги**: изменена структура платных услуг - создана отдельная таблица `paid_service_items` для хранения услуг в коммерческих предложениях; создана миграция `create_paid_service_items_table` с полями `paid_service_id`, `name`, `unit`, `price`, `file`, `order`; создана миграция `remove_image_from_paid_services_table` для удаления поля `image` из таблицы `paid_services`; создана модель `PaidServiceItem` с отношением `belongsTo(PaidService::class)` и методом `getFileUrlAttribute()`; обновлена модель `PaidService` - убрано поле `image`, добавлено отношение `hasMany(PaidServiceItem::class)`; создан ресурс `PaidServiceItemResource` для MoonShine с полями: наименование, ед. изм., стоимость, файл (поддержка изображений, PDF, DOC, DOCX), порядок сортировки; обновлен ресурс `PaidServiceResource` - убраны поля с изображением, добавлено поле `HasMany` для управления услугами; обновлен контроллер `AboutController::paidServices()` - загружаются услуги с их items и формируются публичные URL для файлов; обновлен blade шаблон `frontend/about/paid-services.blade.php` - отображение коммерческих предложений в виде таблиц с услугами (наименование, ед. изм., стоимость, ссылка на файл); добавлена поддержка темной темы и адаптивность для мобильных устройств; структура соответствует паттерну проекта (как Anticorruption + AnticorruptionImage).
- **Реализация локализации для главной страницы**: созданы языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` с переводами для главной страницы (заголовки, кнопки, меню); создан контроллер `LocaleController` для переключения языков через маршрут `locale/{locale}`; создан middleware `SetLocale` для установки локали из сессии при каждом запросе; добавлен маршрут `locale/{locale}` в `web.php` для переключения языков; обновлен `config/app.php` - дефолтная локаль изменена с `en` на `ru`; обновлен `bootstrap/app.php` - добавлен middleware `SetLocale` в web группу; обновлен `header.blade.php` - селект языков теперь показывает текущую локаль и обрабатывает переключение через JavaScript; обновлен `app.blade.php` - добавлен JavaScript обработчик для переключения языков, атрибут `lang` в теге `html` теперь динамический; обновлен `home.blade.php` - все текстовые строки заменены на переводы через функцию `__()`; локализация работает для русского и казахского языков, переключение сохраняется в сессии.
- **Полная локализация меню, быстрых ссылок и футера**: дополнены языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` переводами для всех пунктов меню, быстрых ссылок (4-й слой) и футера; обновлен `header.blade.php` - все пункты меню навигации (О нас, Государственные закупки, Жителям Алматы, Государственные услуги, Государственные символы, Платные услуги, Комплаенс служба, Картограмма коррупции) и их подпункты заменены на переводы через функцию `__()`; обновлены быстрые ссылки (4-й слой) в `header.blade.php` - кнопки "БЛОГ О ДИРЕКТОРЕ", "НОВОСТИ", "АНТИКОР", "ЗОЖ", "МИССИЯ СКОРОЙ ПОМОЩИ" заменены на переводы (использован `{!! !!}` для поддержки HTML-тегов в переводах); обновлен `footer.blade.php` - все тексты футера заменены на переводы: контактная информация (КАНЦЕЛЯРИЯ, СЛУЖБА ПОДДЕРЖКИ ПАЦИЕНТА, CALL-ЦЕНТР, WHATSAPP CALL-ЦЕНТР, рабочие часы), навигация (ОТДЕЛЕНИЯ, ЕДИНЫЙ МЕДИЦИНСКИЙ CALL ЦЕНТР, ОСТАВИТЬ ОТЗЫВ / ЗАДАТЬ ВОПРОС, КОНТАКТЫ), информация о больнице (ЭЛЕКТРОННОЕ ПРАВИТЕЛЬСТВО, название больницы по строкам, адрес), копирайт и кнопка "Наверх"; все элементы интерфейса теперь поддерживают переключение между русским и казахским языками.
- **Локализация breadcrumbs на всех страницах**: добавлена секция `breadcrumbs` в языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` с переводами для страниц, которых не было в других секциях (Отделения, Вопросы и ответы, Миссия скорой помощи, Блог о директоре); обновлены все 41 страница с breadcrumbs - все хардкодные тексты заменены на переводы через функцию `__()`: использованы существующие ключи из секций `menu`, `header`, `quick_links` и новые ключи из секции `breadcrumbs`; страницы, использующие динамические данные (названия новостей, подстанций, рубрик) оставлены без изменений, так как они используют данные из базы данных; все breadcrumbs теперь поддерживают переключение между русским и казахским языками.
- **Локализация данных из БД для новостей**: создана миграция `add_kazakh_fields_to_news_table` для добавления полей `title_kk` и `description_kk` в таблицу `news`; обновлена модель `News` - добавлены поля `title_kk` и `description_kk` в `fillable`, созданы методы `getLocalizedTitleAttribute()` и `getLocalizedDescriptionAttribute()` для получения локализованных данных (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский); обновлен `NewsResource` в MoonShine - форма редактирования разделена на три блока: "Основная информация (Русский)" (обязательные поля), "Основная информация (Казахский)" (опциональные поля с подсказками), "Дополнительная информация" (видео, изображение, дата); обновлены правила валидации для новых полей; обновлен поиск для включения `title_kk`; обновлены представления `home.blade.php`, `news/list.blade.php` и `news/detail.blade.php` - все использования `$article->title` и `$news->title` заменены на `$article->localized_title` и `$news->localized_title`, все использования `$news->description` заменены на `$news->localized_description`; добавлен перевод "Новостей пока нет" в языковые файлы; теперь новости отображаются на казахском языке, если заполнены соответствующие поля, иначе на русском.
- **Добавление функционала топ новостей**: создана миграция `add_is_featured_to_news_table` для добавления поля `is_featured` (boolean, default false) в таблицу `news`; обновлена модель `News` - добавлено поле `is_featured` в `fillable` и `casts`; обновлен `NewsResource` в MoonShine - добавлен чекбокс "Топ новость" в форму редактирования с подсказкой, добавлен в таблицу списка (index) для визуального контроля, добавлен в детальный просмотр; обновлены правила валидации для поля `is_featured`; обновлен контроллер `FrontendController::home()` - логика выборки новостей изменена: сначала получаются все топ новости (`is_featured = true`), затем остальные новости (исключая топ), объединяются с приоритетом топ новостей, но не более 3 новостей всего; топ новости всегда отображаются на главной странице, даже если они не самые свежие по дате; при снятии чекбокса новость перестает быть топ и убирается с главной страницы (если она не попадает в топ-3 по дате).
- **Добавление возможности загрузки нескольких изображений для новостей**: создана миграция `create_news_images_table` для таблицы `news_images` с полями `id`, `news_id` (foreign key с cascade delete), `image`, `order` (для сортировки), `timestamps`; создана модель `NewsImage` с отношением `belongsTo(News::class)` и методом `getImageUrlAttribute()` для получения публичного URL изображения; обновлена модель `News` - добавлено отношение `hasMany(NewsImage::class)` с сортировкой по полю `order`; создан `NewsImageResource` для MoonShine с полями: выбор новости (Select), изображение (Image с директорией `news/images`), порядок сортировки (Number); обновлен `NewsResource` - добавлено поле `HasMany` для управления изображениями с подсказкой о возможности добавления от 1 до неограниченного количества; обновлены контроллеры `FrontendController::home()`, `FrontendController::newsList()` и `FrontendController::newsDetail()` - добавлена загрузка изображений через `load('images')` и формирование публичных URL для каждого изображения; обновлено представление `news/detail.blade.php` - если есть множественные изображения, они отображаются все, иначе показывается главное изображение (`image`), добавлены стили для `.news-detail-images` и обновлены стили для `.news-detail-img`; теперь можно добавлять от 1 до неограниченного количества изображений для каждой новости, изображения сортируются по полю `order`.
- **Локализация страницы Администрация**: добавлена секция `administration` в языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` с переводами для заголовка страницы (`title`), сообщения об отсутствии данных (`no_admins`) и метки должности (`position` - "Должность" на русском, "Лауазым" на казахском); обновлен blade шаблон `resources/views/frontend/about/administration.blade.php` - заголовок страницы (`@section('title')`) заменен на `__('frontend.administration.title')`, сообщение об отсутствии администрации заменено на `__('frontend.administration.no_admins')`, добавлена метка "Должность:" перед значением должности с использованием перевода `__('frontend.administration.position')`; добавлены стили для метки должности (`.admin-position strong`) с цветом #0d9488 и font-weight 600; страница администрации теперь полностью локализована и поддерживает переключение между русским и казахским языками.
- **Добавление поля Должность (казахский) в админ-панель**: создана миграция `add_position_kk_to_admins_table` для добавления поля `position_kk` (nullable string) в таблицу `admins`; обновлена модель `Admin` - добавлено поле `position_kk` в `fillable`, создан метод `getLocalizedPositionAttribute()` для получения локализованной должности (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский); обновлен `AdminResource` в MoonShine - добавлено поле "Должность (казахский)" в форму редактирования (опциональное), в таблицу списка (index) и в детальный просмотр; обновлены правила валидации для поля `position_kk` (nullable, string, max:255); обновлен blade шаблон `administration.blade.php` - использование `$admin->position` заменено на `$admin->localized_position` для автоматического отображения казахской должности при переключении языка; теперь в админ-панели можно заполнять должность на казахском языке, и она будет автоматически отображаться на фронтенде при выборе казахского языка.
- **Обновление страницы График приёма граждан**: создана миграция `update_citizen_schedules_table_add_position_kk_and_dates` для добавления поля `position_kk` (nullable string) и изменения типов полей `day` (date) и `time` (time) в таблице `citizen_schedules`; обновлена модель `CitizenSchedule` - добавлено поле `position_kk` в `fillable`, добавлен cast для `day` (date), созданы методы `getLocalizedPositionAttribute()` для получения локализованной должности, `getFormattedDayAttribute()` для форматирования даты с локализацией месяцев (русский/казахский), `getFormattedTimeAttribute()` для форматирования времени в формате H:i; обновлен `CitizenScheduleResource` в MoonShine - добавлено поле "Должность (казахский)" в форму, индекс и детальный просмотр, поле "День" заменено на `Date::make()` с date picker, поле "Время" заменено на `Text::make()` с типом `time` для time picker, обновлены правила валидации (day: required date, time: required date_format:H:i); добавлены переводы в `lang/ru/frontend.php` и `lang/kk/frontend.php` для секции `schedule` (title, no_schedule, full_name, position, day, time); обновлен blade шаблон `schedule.blade.php` - все тексты заменены на переводы через функцию `__()`, использование `$schedule->position` заменено на `$schedule->localized_position`, использование `$schedule->day` и `$schedule->time` заменено на `$schedule->formatted_day` и `$schedule->formatted_time` для отдельного отображения дня и времени с локализацией; теперь в админ-панели можно использовать date picker для выбора дня и time picker для выбора времени, должность поддерживает казахский язык, а на фронтенде день и время отображаются отдельно с локализацией.
- **Обновление страницы График приёма граждан - день недели и время с/до**: создана миграция `update_citizen_schedules_day_and_time_fields` для изменения структуры таблицы - поле `day` изменено на string (день недели), поле `time` переименовано в `time_from`, добавлено поле `time_to` (time) для времени окончания; обновлена модель `CitizenSchedule` - добавлены поля `time_from` и `time_to` в `fillable`, создан метод `getLocalizedDayAttribute()` для локализации дня недели (Понедельник/Дүйсенбі и т.д.), обновлен метод `getFormattedTimeAttribute()` для форматирования времени в формате "с 10:00 до 12:00" (русский) или "10:00 - 12:00" (казахский); обновлен `CitizenScheduleResource` - поле "День" заменено на `Select::make()` с выбором дня недели (Понедельник, Вторник и т.д.), добавлены два поля "Время с" и "Время до" с time picker через `customAttributes(['type' => 'time'])`, обновлены правила валидации (day: required string in:monday,tuesday..., time_from/time_to: required date_format:H:i); обновлены контроллеры `FrontendController` и `AboutController` - сортировка изменена с `orderBy('time')` на `orderBy('time_from')`; обновлен blade шаблон `schedule.blade.php` - используется `$schedule->localized_day` для дня недели и `$schedule->formatted_time` для времени; теперь в админ-панели можно выбирать день недели через Select и два времени через time picker, на фронтенде отображается локализованный день недели и время в формате "с 10:00 до 12:00".
- **Добавление поддержки двух изображений для страницы Структура**: создана миграция `add_image_kk_to_structures_table` для добавления поля `image_kk` (nullable string) в таблицу `structures`; обновлена модель `Structure` - добавлено поле `image_kk` в `fillable`, созданы методы `getImageKkUrlAttribute()` для получения публичного URL казахского изображения и `getLocalizedImageUrlAttribute()` для получения локализованного изображения (если локаль `kk` и поле заполнено, возвращается казахское изображение, иначе русское); обновлен `StructureResource` в MoonShine - добавлено поле "Изображение (казахский)" в форму редактирования, индекс и детальный просмотр, обновлены правила валидации для поля `image_kk` (nullable, image, max:5120); обновлены контроллеры `FrontendController` и `AboutController` - добавлено формирование публичных URL для обоих изображений (`image_url` и `image_kk_url`); обновлен blade шаблон `structure.blade.php` - использование `$structure->image_url` заменено на `$structure->localized_image_url` для автоматического отображения казахского изображения при переключении языка; теперь в админ-панели можно загружать два изображения (русское и казахское), и на фронтенде будет автоматически отображаться соответствующее изображение в зависимости от выбранного языка.
- **Добавление поддержки казахского языка для страницы Этический кодекс**: создана миграция `add_kazakh_fields_to_ethical_codes_table` для добавления полей `title_kk` (nullable string) и `pdf_path_kk` (nullable string) в таблицу `ethical_codes`; обновлена модель `EthicalCode` - добавлены поля `title_kk` и `pdf_path_kk` в `fillable`, созданы методы `getLocalizedTitleAttribute()` для получения локализованного названия (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский), `getLocalizedPdfPathAttribute()` для получения локализованного пути к PDF файлу и `getLocalizedPdfUrlAttribute()` для получения публичного URL локализованного PDF файла; обновлены страницы MoonShine (`EthicalCodeFormPage`, `EthicalCodeIndexPage`, `EthicalCodeDetailPage`) - добавлены поля "Название (казахский)" и "PDF файл (казахский)" во все страницы, обновлены правила валидации для новых полей (title_kk: nullable string, pdf_path_kk: nullable file mimes:pdf); обновлен контроллер `AboutController::ethicalCode()` - добавлено формирование публичных URL для обоих PDF файлов (`pdf_url` и `pdf_kk_url`); обновлен blade шаблон `ethical-code.blade.php` - использование `$ethicalCode->title` заменено на `$ethicalCode->localized_title`, использование `$ethicalCode->pdf_url` заменено на `$ethicalCode->localized_pdf_url` для автоматического отображения казахского названия и PDF файла при переключении языка; теперь в админ-панели можно заполнять название и загружать PDF файл на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка.
- **Добавление поддержки казахского языка для страницы Отчёты о доходах и расходах**: создана миграция `add_kazakh_fields_to_income_expense_reports_table` для добавления полей `title_kk` (nullable string) и `file_path_kk` (nullable string) в таблицу `income_expense_reports`; обновлена модель `IncomeExpenseReport` - добавлены поля `title_kk` и `file_path_kk` в `fillable`, созданы методы `getLocalizedTitleAttribute()` для получения локализованного названия (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский), `getLocalizedFilePathAttribute()` для получения локализованного пути к файлу и `getLocalizedFileUrlAttribute()` для получения публичного URL локализованного файла; обновлены страницы MoonShine (`IncomeExpenseReportFormPage`, `IncomeExpenseReportIndexPage`, `IncomeExpenseReportDetailPage`) - добавлены поля "Название (казахский)" и "Файл (казахский)" во все страницы, обновлены правила валидации для новых полей (title_kk: nullable string, file_path_kk: nullable file mimes:pdf,xlsx,xls,doc,docx); обновлен контроллер `AboutController::incomeExpense()` - добавлено формирование публичных URL для обоих файлов (`file_url` и `file_kk_url`); обновлен blade шаблон `income-expense.blade.php` - использование `$report->title` заменено на `$report->localized_title`, использование `$report->file_url` заменено на `$report->localized_file_url` для автоматического отображения казахского названия и файла при переключении языка; теперь в админ-панели можно заполнять название и загружать файл на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка.
- **Добавление поддержки казахского языка для раздела Информация для медицинских специалистов**: создана миграция `add_kazakh_fields_to_medical_employment_infos_table` для добавления полей `title_kk` (nullable string), `description_kk` (nullable text), `file1_name_kk`, `file1_kk`, `file2_name_kk`, `file2_kk`, `file3_name_kk`, `file3_kk` (все nullable string) в таблицу `medical_employment_infos`; обновлена модель `MedicalEmploymentInfo` - добавлены все казахские поля в `fillable`, созданы методы `getLocalizedTitleAttribute()`, `getLocalizedDescriptionAttribute()`, `getLocalizedFile1NameAttribute()`, `getLocalizedFile1Attribute()`, `getLocalizedFile2NameAttribute()`, `getLocalizedFile2Attribute()`, `getLocalizedFile3NameAttribute()`, `getLocalizedFile3Attribute()` для получения локализованных данных (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский); обновлены страницы MoonShine (`MedicalEmploymentInfoFormPage`, `MedicalEmploymentInfoIndexPage`, `MedicalEmploymentInfoDetailPage`) - добавлены поля для казахских версий названия, описания и всех трех файлов (с названиями) во все страницы, обновлены правила валидации для всех новых полей; обновлен контроллер `AboutController::vacancyEmployment()` - добавлено формирование публичных URL для казахских файлов (`file1_kk_url`, `file2_kk_url`, `file3_kk_url`); обновлен blade шаблон `vacancy-employment.blade.php` - использование `$info->title`, `$info->description`, `$info->file1_name`, `$info->file1` и т.д. заменено на `$info->localized_title`, `$info->localized_description`, `$info->localized_file1_name`, `$info->localized_file1` и т.д. для автоматического отображения казахского контента при переключении языка; теперь в админ-панели можно заполнять название, описание и загружать три файла (с названиями) на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка.
- **Добавление поддержки казахского языка для раздела Вакансии**: создана миграция `add_kazakh_fields_to_vacancies_table` для добавления полей `title_kk` (nullable string), `description_kk` (nullable text), `schedule_kk` (nullable string) в таблицу `vacancies`; обновлена модель `Vacancy` - добавлены поля `title_kk`, `description_kk`, `schedule_kk` в `fillable`, созданы методы `getLocalizedTitleAttribute()`, `getLocalizedDescriptionAttribute()`, `getLocalizedScheduleAttribute()` для получения локализованных данных (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский); обновлен `VacancyResource` в MoonShine - форма редактирования разделена на три блока: "Основная информация (русский)" (обязательные поля), "Основная информация (казахский)" (опциональные поля), "Контактная информация" (contact_info без локализации), добавлены казахские поля в индекс и детальный просмотр, обновлены правила валидации для новых полей (title_kk: nullable string, description_kk: nullable string, schedule_kk: nullable string); обновлен blade шаблон `vacancy-employment.blade.php` - использование `$vacancy->title`, `$vacancy->description`, `$vacancy->schedule` заменено на `$vacancy->localized_title`, `$vacancy->localized_description`, `$vacancy->localized_schedule` для автоматического отображения казахского контента при переключении языка, поле `contact_info` остается без локализации; добавлена секция `vacancy` в языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` с переводами для секции `vacancy-contact-info` (salary_discussed, send_resume, to_email, to_whatsapp, or_deliver, schedule_label, contact_info_label); обновлен blade шаблон `vacancy-employment.blade.php` - все тексты в секции `vacancy-contact-info` заменены на переводы через функцию `__()`, метки "График работы:" и "Контактные данные:" также используют переводы; теперь в админ-панели можно заполнять название, описание и график работы на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка, контактные данные остаются общими для обоих языков, но все тексты в секции контактной информации локализованы.
- **Добавление поддержки казахского языка для страницы Документы (Корпоративные документы и Документы)**: созданы миграции `add_kazakh_fields_to_corporate_documents_table` и `add_kazakh_fields_to_documents_table` для добавления полей `title_kk` (nullable string) и `file_path_kk` (nullable string) в обе таблицы; обновлена модель `CorporateDocument` - добавлены поля `title_kk` и `file_path_kk` в `fillable`, создан метод `getLocalizedTitleAttribute()` для получения локализованного названия категории (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский); обновлена модель `Document` - добавлены поля `title_kk` и `file_path_kk` в `fillable`, созданы методы `getLocalizedTitleAttribute()`, `getLocalizedFilePathAttribute()`, `getLocalizedFileUrlAttribute()` для получения локализованных данных; обновлен `CorporateDocumentResource` в MoonShine - добавлено поле "Название категории (казахский)" в форму, индекс и детальный просмотр, обновлены правила валидации; обновлен `DocumentResource` в MoonShine - форма редактирования разделена на два блока: "Основная информация (русский)" (обязательные поля) и "Основная информация (казахский)" (опциональные поля), добавлены казахские поля в индекс и детальный просмотр, обновлены правила валидации для новых полей (title_kk: nullable string, file_path_kk: nullable file mimes:pdf,doc,docx); обновлен контроллер `AboutController::documents()` - добавлено формирование публичных URL для казахских файлов (`file_kk_url`); обновлен blade шаблон `documents.blade.php` - использование `$category->title` заменено на `$category->localized_title`, использование `$document->title` и `$document->file_url` заменено на `$document->localized_title` и `$document->localized_file_url` для автоматического отображения казахского контента при переключении языка; теперь в админ-панели можно заполнять название категории и документа, а также загружать файлы на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка.
- **Добавление поддержки казахского языка для страницы Сфера деятельности**: созданы миграции `add_general_info_kk_to_activity_spheres_table`, `add_address_kk_to_ssmp_structures_table`, `add_kazakh_fields_to_substations_table`, `add_kazakh_fields_to_substation_employees_table` для добавления казахских полей в соответствующие таблицы; обновлена модель `ActivitySphere` - добавлены поля `general_info_kk`, `mission_kk`, `goal_kk`, `history_kk` в `fillable`, созданы методы `getLocalizedGeneralInfoAttribute()`, `getLocalizedMissionAttribute()`, `getLocalizedGoalAttribute()`, `getLocalizedHistoryAttribute()` для получения локализованных данных (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский); обновлена модель `SsmpStructure` - добавлено поле `address_kk` в `fillable`, создан метод `getLocalizedAddressAttribute()` для получения локализованного адреса; обновлена модель `Substation` - добавлены поля `name_kk` и `address_kk` в `fillable`, созданы методы `getLocalizedNameAttribute()` и `getLocalizedAddressAttribute()` для получения локализованных названия и адреса; обновлена модель `SubstationEmployee` - добавлены поля `position_kk` и `description_kk` в `fillable`, созданы методы `getLocalizedPositionAttribute()` и `getLocalizedDescriptionAttribute()` для получения локализованных должности и описания; обновлены ресурсы MoonShine (`ActivitySphereResource`, `SsmpStructureResource`, `SubstationResource`, `SubstationEmployeeResource`) - добавлены казахские поля в формы, индексы и детальные просмотры, обновлены правила валидации; обновлены blade шаблоны (`activity-sphere.blade.php`, `substations/index.blade.php`, `substations/show.blade.php`, `home.blade.php`) - использование полей заменено на локализованные версии (`localized_general_info`, `localized_mission`, `localized_goal`, `localized_history`, `localized_address`, `localized_name`, `localized_position`, `localized_description`); обновлен контроллер `SubstationController::show()` - добавлено формирование локализованных полей для сотрудников (`localized_position`, `localized_description`); теперь в админ-панели можно заполнять все поля (общая информация, миссия, цель, история, адреса, названия подстанций, должности и описания сотрудников) на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка.
- **Добавление поддержки казахского языка для страницы План государственных закупок**: создана миграция `add_kazakh_fields_to_procurement_plans_table` для добавления полей `title_kk` (nullable string) и `file_path_kk` (nullable string) в таблицу `procurement_plans`; обновлена модель `ProcurementPlan` - добавлены поля `title_kk` и `file_path_kk` в `fillable`, созданы методы `getLocalizedTitleAttribute()` для получения локализованного названия (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский), `getLocalizedFilePathAttribute()` для получения локализованного пути к файлу и `getLocalizedFileUrlAttribute()` для получения публичного URL локализованного файла; обновлен `ProcurementPlanResource` в MoonShine - форма редактирования разделена на два блока: "Основная информация (русский)" (обязательные поля) и "Основная информация (казахский)" (опциональные поля), добавлены казахские поля в индекс и детальный просмотр, обновлены правила валидации для новых полей (title_kk: nullable string, file_path_kk: nullable file mimes:xlsx,xls); обновлен контроллер `AboutController::procurementPlan()` - добавлено формирование публичных URL для обоих файлов (`file_url` и `file_kk_url`); обновлен blade шаблон `procurement-plan.blade.php` - использование `$plan->title` заменено на `$plan->localized_title`, использование `$plan->file_url` заменено на `$plan->localized_file_url` для автоматического отображения казахского названия и файла при переключении языка; добавлена секция `procurement_plan` в языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` с переводами для года (`year`), кнопок "Открыть в новой вкладке" (`open_in_new_tab`), "Скачать файл" (`download_file`) и сообщения "Файл не загружен" (`file_not_uploaded`); обновлен blade шаблон `procurement-plan.blade.php` - текст "{year} год" заменен на `__('frontend.procurement_plan.year', ['year' => $plan->year])`, кнопки "Открыть в новой вкладке" и "Скачать файл" заменены на соответствующие переводы, сообщение "Файл не загружен" заменено на `__('frontend.procurement_plan.file_not_uploaded')`; теперь в админ-панели можно заполнять название и загружать файл Excel на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка, все тексты интерфейса также локализованы.
- **Добавление поддержки казахского языка для страницы Объявления (Категории объявлений и Объявления)**: созданы миграции `add_kazakh_fields_to_announcement_categories_table` и `add_kazakh_fields_to_announcements_table` для добавления казахских полей в соответствующие таблицы; обновлена модель `AnnouncementCategory` - добавлено поле `title_kk` в `fillable`, создан метод `getLocalizedTitleAttribute()` для получения локализованного названия категории (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский); обновлена модель `Announcement` - добавлены поля `text_kk` и `file_path_kk` в `fillable`, созданы методы `getLocalizedTextAttribute()` для получения локализованного текста, `getLocalizedFilePathAttribute()` для получения локализованного пути к файлу и `getLocalizedFileUrlAttribute()` для получения публичного URL локализованного файла; обновлен `AnnouncementCategoryResource` в MoonShine - форма редактирования разделена на два блока: "Основная информация (русский)" (обязательные поля) и "Основная информация (казахский)" (опциональные поля), добавлены казахские поля в индекс и детальный просмотр, обновлены правила валидации; обновлен `AnnouncementResource` в MoonShine - форма редактирования разделена на три блока: "Основная информация" (категория), "Основная информация (русский)" (обязательные поля: текст и файл) и "Основная информация (казахский)" (опциональные поля: текст и файл), добавлены казахские поля в индекс и детальный просмотр, обновлены правила валидации для новых полей (text_kk: nullable string, file_path_kk: nullable file mimes:pdf,doc,docx,xlsx,xls); обновлен контроллер `AboutController::announcements()` - добавлено формирование публичных URL для обоих файлов (`file_url` и `file_kk_url`); обновлен blade шаблон `announcements.blade.php` - использование `$category->title` заменено на `$category->localized_title`, использование `$announcement->text` и `$announcement->file_url` заменено на `$announcement->localized_text` и `$announcement->localized_file_url` для автоматического отображения казахского контента при переключении языка; добавлена секция `announcements` в языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` с переводом для кнопки скачивания (`download_file`); обновлен blade шаблон `announcements.blade.php` - кнопка "Скачать файл" заменена на `__('frontend.announcements.download_file')`; теперь в админ-панели можно заполнять название категории, текст объявления и загружать файлы на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка, все тексты интерфейса также локализованы.
- **Добавление поддержки казахского языка для страницы Протоколы**: создана миграция `add_kazakh_fields_to_protocols_table` для добавления полей `title_kk` (nullable string) и `file_path_kk` (nullable string) в таблицу `protocols`; обновлена модель `Protocol` - добавлены поля `title_kk` и `file_path_kk` в `fillable`, созданы методы `getLocalizedTitleAttribute()` для получения локализованного названия (если локаль `kk` и поле заполнено, возвращается казахский вариант, иначе русский), `getLocalizedFilePathAttribute()` для получения локализованного пути к файлу и `getLocalizedFileUrlAttribute()` для получения публичного URL локализованного файла; обновлен `ProtocolResource` в MoonShine - форма редактирования разделена на два блока: "Основная информация (русский)" (обязательные поля: год, название, файл) и "Основная информация (казахский)" (опциональные поля: название, файл), добавлены казахские поля в индекс и детальный просмотр, обновлены правила валидации для новых полей (title_kk: nullable string, file_path_kk: nullable file mimes:pdf,doc,docx); обновлен контроллер `AboutController::protocols()` - добавлено формирование публичных URL для обоих файлов (`file_url` и `file_kk_url`); обновлен blade шаблон `protocols.blade.php` - использование `$protocol->title` и `$protocol->file_url` заменено на `$protocol->localized_title` и `$protocol->localized_file_url` для автоматического отображения казахского названия и файла при переключении языка; добавлена секция `protocols` в языковые файлы `lang/ru/frontend.php` и `lang/kk/frontend.php` с переводами для заголовка аккордеона (`for_year`) и кнопки скачивания (`download_file`); обновлен blade шаблон `protocols.blade.php` - заголовок аккордеона "Протоколы за {year} год" заменен на `__('frontend.protocols.for_year', ['year' => $year])`, кнопка "Скачать файл" заменена на `__('frontend.protocols.download_file')`; теперь в админ-панели можно заполнять название протокола и загружать файл на казахском языке, и на фронтенде будет автоматически отображаться соответствующий контент в зависимости от выбранного языка, все тексты интерфейса также локализованы.

