## Описание проекта

**SSMP Almaty** - официальный сайт государственного учреждения с админ-панелью для управления контентом.

### Основные функции:
- **Публичный сайт**: главная страница с новостями, информацией об администрации, графике приёма граждан, структуре организации, миссии и ценностях
- **Админ-панель MoonShine**: управление контентом через удобный интерфейс
- **Управление новостями**: создание, редактирование новостей с изображениями и видео
- **Галерея изображений**: управление изображениями для главной страницы
- **Управление администрацией**: информация о руководстве организации
- **График приёма граждан**: расписание приёма посетителей
- **Структура организации**: информация о подразделениях
- **Миссия и ценности**: описание миссии и ценностей организации

### Архитектура:
- **Backend**: Laravel 12 + MoonShine 4.0 (админ-панель)
- **Frontend**: Blade шаблоны + Bootstrap 5.3.3 + Vite
- **База данных**: MySQL с миграциями Laravel

## План обзора проекта (2025-11-11)

- [x] Собрать ключевые артефакты (маршруты, контроллеры, модели, ресурсы MoonShine)
- [x] Разобрать фронтенд-шаблоны и компоненты
- [x] Проанализировать миграции и структуру данных
- [x] Сформировать описание назначения проекта и основных функций
- [x] Подготовить обзор возможностей MoonShine-админки

## План по главной странице

- [ ] Сформировать минимально необходимую структуру данных главной страницы (название, описания секций, контакты, блоки «О нас», «Администрация», «График приёма» и др.) и согласовать с бэком MoonShine.
- [ ] Создать миграцию и модель `LandingPage` с заполнителями и кастами для сложных полей.
- [ ] Реализовать сервис `LandingPageService` для чтения данных модели с соблюдением принципов SOLID.
- [ ] Подготовить контроллер/маршрут для выдачи данных главной страницы на фронт.
- [ ] Сверстать стартовый Blade-шаблон главной страницы на основе новой модели данных.

## План по переделке фронтенда в стиле Aventro

- [x] Обновить header в стиле Aventro: современный дизайн, sticky навигация, плавные переходы.
- [x] Создать hero секцию с большим заголовком и CTA кнопками в стиле Aventro.
- [x] Переделать секции новостей, видео и карты в современном стиле с карточками.
- [x] Обновить footer в стиле Aventro с современной типографикой.
- [x] Добавить глобальные стили и анимации в стиле Aventro.

## Версии технологий

### Backend
- **PHP**: ^8.2 (текущая версия: 8.4.13)
- **Laravel Framework**: ^12.0 (текущая версия: 12.37.0)
- **MoonShine**: ^4.0 (текущая версия: 4.0.1)
- **MoonShine TinyMCE**: ^2.0

### Frontend
- **Bootstrap**: 5.3.3 (подключен через CDN)
- **Bootstrap Icons**: через CDN
- **Vite**: ^7.0.7 (для сборки ассетов)
- **Tailwind CSS**: ^4.0.0 (через Vite плагин)
- **Axios**: ^1.11.0
- **Blade**: шаблонизатор Laravel

### База данных
- **MySQL**: основная БД
- **Миграции**: Laravel migrations для управления схемой БД

### Объяснение версий

**Laravel 12** - последняя мажорная версия фреймворка с улучшенной производительностью и новыми возможностями.

**MoonShine 4.0** - значительное обновление админ-панели с новой архитектурой:
- Поля определяются в страницах (метод `fields()`), а не в ресурсах
- Изменена структура ресурсов - методы `indexFields()`, `formFields()` перенесены в страницы
- Удален метод `searchable()` для полей - поиск настраивается через метод `search()` в ресурсе
- Изменена конфигурация аутентификации - `auth.middleware` должен быть массивом
- Требуется явное указание кастомных страниц через метод `pages()` в ресурсе

**PHP 8.2+** - современная версия PHP с улучшенной производительностью и поддержкой новых возможностей языка.

## Текущая структура проекта

ssmp-almaty/
├── app/                                    // PHP код приложения
│   ├── Console/Commands/
│   │   └── DebugSettingPayload.php        // команда для отладки
│   ├── Http/Controllers/
│   │   ├── Controller.php                 // базовый контроллер
│   │   ├── Frontend/
│   │   │   └── HomeController.php         // контроллер главной страницы, загружает новости и изображения
│   │   └── Storage/
│   │       └── PublicStorageController.php // контроллер для публичной раздачи файлов из storage
│   ├── Models/                             // Eloquent модели
│   │   ├── Admin.php                       // модель администрации (full_name, position, email, image)
│   │   ├── CitizenSchedule.php            // модель графика приёма граждан (full_name, position, day, time)
│   │   ├── MissionValue.php               // модель миссии и ценностей (title, description)
│   │   ├── News.php                        // модель новостей (title, slug, description, video_url, image, published_at)
│   │   ├── Setting.php                    // модель настроек (main_image для галереи)
│   │   ├── Structure.php                   // модель структуры (title, image)
│   │   └── User.php                        // модель пользователей Laravel
│   ├── MoonShine/                          // кастомизация MoonShine-админки
│   │   ├── Layouts/
│   │   │   └── MoonShineLayout.php         // макет панели управления с меню "Главный экран" и "О нас"
│   │   ├── Pages/                           // кастомные страницы для ресурсов
│   │   │   ├── Dashboard.php                // дашборд MoonShine
│   │   │   ├── MoonShineUser/               // страницы для управления пользователями админки
│   │   │   │   ├── MoonShineUserIndexPage.php
│   │   │   │   └── MoonShineUserFormPage.php
│   │   │   └── MoonShineUserRole/           // страницы для управления ролями
│   │   │       ├── MoonShineUserRoleIndexPage.php
│   │   │       └── MoonShineUserRoleFormPage.php
│   │   └── Resources/                      // ресурсы MoonShine (CRUD для моделей)
│   │       ├── Admin/                       // CRUD администрации
│   │       │   └── AdminResource.php
│   │       ├── CitizenSchedule/             // CRUD графика приёма граждан
│   │       │   └── CitizenScheduleResource.php
│   │       ├── MissionValue/                // CRUD миссии и ценностей
│   │       │   └── MissionValueResource.php
│   │       ├── MoonShineUser/               // CRUD админ-пользователей (использует кастомные страницы)
│   │       │   └── MoonShineUserResource.php
│   │       ├── MoonShineUserRole/           // CRUD ролей (использует кастомные страницы)
│   │       │   └── MoonShineUserRoleResource.php
│   │       ├── News/                        // CRUD новостей
│   │       │   └── NewsResource.php
│   │       ├── Setting/                     // CRUD настроек (галерея изображений)
│   │       │   └── SettingResource.php
│   │       └── Structure/                   // CRUD структуры
│   │           └── StructureResource.php
│   ├── Providers/
│   │   ├── AppServiceProvider.php           // сервис-провайдер приложения
│   │   └── MoonShineServiceProvider.php     // регистрация ресурсов MoonShine
│   └── Services/
│       └── Storage/
│           └── PublicStorageService.php     // сервис для раздачи публичных файлов
├── config/                                  // конфигурационные файлы
│   ├── auth.php                            // конфигурация аутентификации (добавлен guard 'moonshine')
│   ├── filesystems.php                     // конфиг дисков: публичный корень /storage
│   └── moonshine.php                       // конфигурация MoonShine 4.0
├── database/migrations/                     // миграции БД
│   ├── 0001_01_01_000000_create_users_table.php
│   ├── 0001_01_01_000001_create_cache_table.php
│   ├── 0001_01_01_000002_create_jobs_table.php
│   ├── 2020_10_04_115514_create_moonshine_roles_table.php
│   ├── 2020_10_05_173148_create_moonshine_tables.php
│   ├── 2025_11_10_144815_create_notifications_table.php
│   ├── 2025_11_10_152732_create_settings_table.php
│   ├── 2025_11_11_113824_create_news_table.php
│   ├── 2025_11_11_200000_add_slug_to_news_table.php // добавление slug с уникальным индексом
│   └── 2025_11_11_201500_update_news_fields.php    // замена content на description и video_url
├── public/                                  // публичная директория
│   ├── slujba.png                          // логотип для хедера
│   └── build/                              // скомпилированные Vite ассеты
│       ├── manifest.json
│       └── assets/
├── resources/                               // исходники фронтенда
│   ├── css/app.css                         // глобальные стили Vite
│   ├── js/
│   │   ├── app.js                          // JS-энтрипойнт (Vite)
│   │   └── bootstrap.js                    // Bootstrap инициализация
│   └── views/                              // Blade-шаблоны фронтенда
│       ├── frontend/
│       │   ├── components/
│       │   │   ├── footer.blade.php         // футер с контактами и кнопкой "Наверх"
│       │   │   └── header.blade.php        // прозрачный header с навигацией и переключателем темы
│       │   ├── layouts/
│       │   │   └── app.blade.php           // общий каркас страниц (header, main, footer, JS для темы и скролла)
│       │   └── home.blade.php              // главная страница: hero секция, новости (карусель), видео/карта, галерея
│       └── welcome.blade.php                // стандартная заглушка Laravel
├── routes/
│   └── web.php                             // веб-маршруты: главная, storage/{path} для публичных файлов
├── storage/app/public/                     // публичные файлы
│   ├── main/                               // изображения галереи
│   └── news/                               // изображения новостей
└── tasks/
    └── todo.md                             // текущий план/заметки

## Review

- Обновлён `resources/views/frontend/layouts/app.blade.php`: у тега `body` обнулён margin, чтобы фон хедера тянулся во всю ширину.
- Файл `slujba.png` перенесён в `public/slujba.png`, чтобы можно было подгружать логотип из Blade-шаблонов.
- Подключён Bootstrap 5.3.3 и Bootstrap Icons через CDN в `resources/views/frontend/layouts/app.blade.php`, чтобы использовать готовые UI-компоненты.
- Полностью переработан `resources/views/frontend/components/header.blade.php`: задействованы Bootstrap-компоненты (navbar, grid, формы), добавлены иконки Bootstrap Icons; в шапке оставлен только крупный логотип, селектор языка и поиск, навигация — через collapse.
- Обновлён `resources/views/frontend/components/footer.blade.php`: вынесены контакты (адрес, email, телефоны, call-центр) в отдельные колонки, добавлена форма подписки, использованы цвета и сетка Bootstrap.
- Обновлён `HomeController` и `frontend/home.blade.php`: вместо текста выводится сетка изображений из записей `settings`, данные сортируются по дате обновления.
- Обновлён `SettingResource`: убраны поля заголовка и описания, оставлена загрузка изображения и обновлена валидация (проверка файла/типа); админка работает как галерея, убран недоступный метод `rounded()`.
- Для галереи изображения получают корректный публичный URL через `Storage::disk('public')->url(...)`; диск `public` переопределён на относительный путь (`/storage`), кеш конфигурации очищен, чтобы браузер не обращался к `http://localhost`.
- На главной вместо сетки теперь бесконечная горизонтальная витрина: изображения дублируются, прокручиваются CSS-анимацией (останавливается при hover), адаптируются под ширину экрана; секция без фона, сверху в одной строке стоят блоки YouTube и карта одинакового размера.
- Привёл `NewsResource::beforeCreating/beforeUpdating` к сигнатуре MoonShine (`mixed $item): mixed`) и возвращаю модель после генерации slug.
- `HomeController` подгружает последние новости (`News`) с публичными URL изображений, `home.blade.php` выводит их сеткой карточек с картинкой и датой.
- Фронтенд полностью переделан в стиле Aventro: header с sticky навигацией и плавными переходами, hero секция с градиентным фоном и CTA кнопками, секции новостей/видео/карты в виде современных карточек с тенями и hover-эффектами, footer в тёмном стиле с колонками навигации и контактов, добавлены глобальные стили с шрифтом Poppins и плавной прокруткой, мобильная адаптация с выезжающим меню.
- Добавлен переключатель темы (темный/светлый режим): кнопка в header с иконками солнца/луны, автоматическое определение системной темы, сохранение выбора в localStorage, адаптированные стили для всех секций в темной теме.
- Header сделан прозрачным с эффектом blur: по умолчанию `rgba(255, 255, 255, 0.1)` с `backdrop-filter: blur(10px)`, при скролле > 100px затемняется до `rgba(255, 255, 255, 0.95)`, белый текст с тенью в прозрачном состоянии, темный текст при скролле, адаптировано для темной темы.
- Добавлена кнопка "Наверх" (Masthead): фиксированная позиция в правом нижнем углу, появляется при скролле > 300px, плавная прокрутка наверх при клике, адаптирована для мобильных устройств, работает в обеих темах.
- Hero секция получила CSS паттерн с точками и шестиугольниками: сетка точек разного размера через radial-gradient, шестиугольники через repeating-linear-gradient под углами 0°/60°/120°, эффект перспективы через transform: perspective(), полупрозрачные элементы поверх градиентного фона.
- Таблица `news` обновлена: добавлено поле `slug` с уникальным индексом и автогенерацией для кириллицы, поля `description` и `video_url` вместо `content`, формат даты изменён на русский с месяцем прописью (например, "28 октября, 2025").
- Новости отображаются в горизонтальном карусельном формате: заголовок "НОВОСТИ" слева сверху, карточки фиксированной ширины (380px) с горизонтальной прокруткой, каждая карточка содержит изображение, заголовок, дату и кнопку "Читать Новость".
- Создан `PublicStorageService` и маршрут `storage/{path}` для публичной раздачи файлов из `storage/app/public`, отключена автогенерация защищённого маршрута для приватного диска в `config/filesystems.php`.
- Ресурсы `SettingResource` и `NewsResource` сгруппированы в меню MoonShine под разделом "Главный экран" в `MoonShineLayout.php`.
- Обновление MoonShine с версии 3 на версию 4: добавлен guard 'moonshine' в `config/auth.php` с provider и password reset broker для корректной работы аутентификации; исправлены типы возвращаемых значений в `NewsResource` (array -> iterable, методы сделаны protected) для совместимости с MoonShine 4; исправлен `auth.middleware` в `config/moonshine.php` (должен быть массивом `[Authenticate::class]`); исправлены сигнатуры методов `rules()` и `saving()` в `NewsResource` (параметры должны быть `mixed`, методы должны быть `protected`); удален метод `searchable()` из полей - поиск настроен через метод `search()` в ресурсе; созданы кастомные страницы для `MoonShineUserResource` и `MoonShineUserRoleResource` (`app/MoonShine/Pages/MoonShineUser/*` и `app/MoonShine/Pages/MoonShineUserRole/*`) для использования кастомных ресурсов вместо ресурсов из vendor; удалены методы `indexFields()`, `formFields()`, `detailFields()` из ресурсов - поля теперь определяются в страницах через метод `fields()`; все ресурсы проверены на совместимость с новой версией.
- Создана модель `EthicalCode` с полями `title` и `pdf_path`: исправлена миграция (поле `pdf_path` сделано nullable); исправлены namespace полей в `EthicalCodeFormPage` (использованы правильные классы `MoonShine\UI\Fields\*`); добавлены поля в `EthicalCodeIndexPage` и `EthicalCodeDetailPage` (ID, Text, File); добавлен метод `pages()` в `EthicalCodeResource` для указания кастомных страниц; модель обновлена с добавлением метода `casts()` для дат; создан метод `ethicalCode()` в `AboutController` для загрузки данных с публичными URL PDF файлов; добавлен маршрут `/about/ethical-code`; создан Blade шаблон `frontend/about/ethical-code.blade.php` для отображения списка документов этического кодекса с возможностью скачивания PDF файлов.
- Обновлена главная страница `HomePage`: добавлена форма обратной связи с использованием `FormBuilder`, полей `Email`, `Text`, `Textarea` и кнопки `ActionButton`; добавлены дополнительные компоненты MoonShine для наглядности: `Div` для группировки элементов, `Flex` для горизонтального размещения ссылок, `Link` с иконками для навигации; структура фронтенда объяснена: главная страница создана через класс `HomePage`, который расширяет `Page` и использует `GuestLayout` для отображения публичных страниц, компоненты возвращаются через метод `components()` в виде массива `ComponentContract`; форма использует `FormMethod::POST` enum и настроена на отправку на маршрут `home`.
- **Миграция с GuestLayout на Blade шаблоны**: создан контроллер `FrontendController` для обработки всех публичных страниц (home, administration, schedule, structure, mission, newsList, newsDetail); обновлены роуты в `web.php` для использования blade views вместо MoonShine Pages; созданы blade views для основных страниц (`frontend/about/administration.blade.php`, `frontend/about/schedule.blade.php`, `frontend/about/structure.blade.php`, `frontend/about/mission.blade.php`, `frontend/news/list.blade.php`, `frontend/news/detail.blade.php`); обновлен `header.blade.php` с полным меню навигации из GuestLayout (все дропдауны: О нас, Государственные закупки, Жителям Алматы, Государственные услуги, Государственные символы, Комплаенс служба, Картограмма коррупции); убрано использование `GuestLayout` из всех переделанных Page классов (`HomePage`, `AdministrationPage`, `SchedulePage`, `StructurePage`, `MissionPage`, `NewsListPage`, `NewsDetailPage`); обновлена ссылка на новости в `home.blade.php` для корректной навигации.
- **Переделка страницы подстанции по дизайну блога директора**: обновлен `resources/views/frontend/substations/show.blade.php` - добавлена секция breadcrumbs как в блоге директора (навигация с иконкой дома и названием подстанции); переделана структура отображения информации о подстанции - название, адрес и телефон оформлены в стиле директора с иконками и разделителями; обновлены стили страницы - использованы те же цвета, шрифты и отступы, что и в блоге директора (цвет #0d9488 для иконок, шрифт Montserrat, единообразные отступы); карточки сотрудников стилизованы в том же стиле с более мягкими тенями и hover-эффектами; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлен заголовок "Сотрудники" перед списком сотрудников в стиле секций блога директора.
- **Переделка страницы администрации по дизайну блога директора**: обновлен `resources/views/frontend/about/administration.blade.php` - добавлена секция breadcrumbs как в блоге директора (навигация с иконкой дома и названием "Администрация"); переделана структура отображения - заголовок "Администрация" вынесен в отдельную секцию в стиле блога директора; обновлены стили страницы - использованы те же цвета, шрифты и отступы, что и в блоге директора (цвет #0d9488 для иконок и позиций, шрифт Montserrat, единообразные отступы); карточки администрации стилизованы в том же стиле с более мягкими тенями и hover-эффектами; email оформлен с иконкой конверта в стиле блога директора; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлен placeholder для фото без изображения в едином стиле.
- **Переделка страницы графика приёма граждан по дизайну блога директора**: обновлен `resources/views/frontend/about/schedule.blade.php` - добавлена секция breadcrumbs как в блоге директора (навигация с иконкой дома и названием "График приёма граждан"); переделана структура отображения - заголовок "График приёма граждан" вынесен в отдельную секцию в стиле блога директора; улучшена таблица графика - убран столбец ID, добавлены иконки для ФИО (персона), дня (календарь) и времени (часы) в цвете #0d9488; обновлены стили таблицы - использованы те же цвета, шрифты и отступы, что и в блоге директора (шрифт Montserrat, единообразные отступы, скругленные углы, тени); таблица имеет hover-эффекты для строк; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлена адаптивность для мобильных устройств с горизонтальной прокруткой таблицы.
- **Переделка страниц Структура, Миссия и ценности, Этический кодекс, Отчёты о доходах и расходах по дизайну блога директора**: обновлены все четыре страницы (`resources/views/frontend/about/structure.blade.php`, `resources/views/frontend/about/mission.blade.php`, `resources/views/frontend/about/ethical-code.blade.php`, `resources/views/frontend/about/income-expense.blade.php`) - добавлены секции breadcrumbs как в блоге директора (навигация с иконкой дома и названием страницы); переделана структура отображения - убраны заголовки section-header, контент начинается сразу после breadcrumbs; обновлены стили всех страниц - использованы те же цвета, шрифты (Montserrat) и отступы, что и в блоге директора (цвет #0d9488 для иконок и акцентов, единообразные отступы padding: 40px 0, скругленные углы 8px, мягкие тени); карточки стилизованы в едином стиле с hover-эффектами; кнопки и иконки оформлены в цвете #0d9488; добавлена поддержка темной темы с адаптированными цветами для всех элементов; добавлены placeholders для изображений в едином стиле; улучшена адаптивность для мобильных устройств.
- **Создание blade шаблона для страницы Вакансия**: добавлен метод `vacancyEmployment()` в `AboutController` для загрузки вакансий (Vacancy) и информации для медицинских специалистов (MedicalEmploymentInfo); создан blade шаблон `resources/views/frontend/about/vacancy-employment.blade.php` по дизайну блога директора - добавлены breadcrumbs, две секции (информация для медицинских специалистов и вакансии), карточки с иконками в цвете #0d9488, единообразные стили; обновлен роут в `web.php` для использования blade шаблона вместо MoonShine Page; страница показывает информацию для медицинских специалистов (с возможностью скачивания файлов) и список вакансий (с графиком работы и контактными данными); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для страниц Документы и Сфера деятельности**: добавлены методы `documents()` и `activitySphere()` в `AboutController` - `documents()` загружает категории документов (CorporateDocument) с документами (Document) и формирует публичные URL для файлов, `activitySphere()` загружает информацию о сфере деятельности (ActivitySphere); создан blade шаблон `resources/views/frontend/about/documents.blade.php` по дизайну блога директора - добавлены breadcrumbs, карточки категорий с иконками папок, список документов с иконками PDF и кнопками для открытия/скачивания файлов, единообразные стили; создан blade шаблон `resources/views/frontend/about/activity-sphere.blade.php` по дизайну блога директора - добавлены breadcrumbs, карточки для разделов (Общая информация, Миссия, Цель, История) с иконками в цвете #0d9488, единообразные стили; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для страниц План государственных закупок, Объявления и Протоколы**: добавлены методы `procurementPlan()`, `announcements()` и `protocols()` в `AboutController` - `procurementPlan()` загружает планы закупок (ProcurementPlan) с публичными URL файлов, `announcements()` загружает категории объявлений (AnnouncementCategory) с объявлениями (Announcement) и формирует публичные URL для файлов, `protocols()` загружает протоколы (Protocol) и группирует их по годам; создан blade шаблон `resources/views/frontend/about/procurement-plan.blade.php` по дизайну блога директора - добавлены breadcrumbs, карточки планов с иконками, годом и кнопками для открытия/скачивания файлов; создан blade шаблон `resources/views/frontend/about/announcements.blade.php` по дизайну блога директора - добавлены breadcrumbs, аккордеон Bootstrap для категорий объявлений, текст объявлений и кнопки для файлов; создан blade шаблон `resources/views/frontend/about/protocols.blade.php` по дизайну блога директора - добавлены breadcrumbs, аккордеон Bootstrap для группировки протоколов по годам, карточки протоколов с иконками и кнопками для файлов; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Жителям Алматы**: добавлены методы `medicalHelpForForeigners()`, `legalFramework()`, `emergencyServiceRules()`, `socialInsurance()`, `rubricForPopulation()` и `rubricForPopulationDetail()` в `AboutController` - все методы загружают соответствующие модели и формируют публичные URL для файлов и изображений; создан blade шаблон `resources/views/frontend/about/medical-help-for-foreigners.blade.php` - карточки с заголовком и описанием; создан blade шаблон `resources/views/frontend/about/legal-framework.blade.php` - текст с возможными ссылками; создан blade шаблон `resources/views/frontend/about/emergency-service-rules.blade.php` - текст правил; создан blade шаблон `resources/views/frontend/about/social-insurance.blade.php` - поддержка типов контента (text, image, video) с встроенным YouTube; создан blade шаблон `resources/views/frontend/about/rubric-for-population.blade.php` - сетка карточек с изображениями и ссылками на детальные страницы; создан blade шаблон `resources/views/frontend/about/rubric-for-population-detail.blade.php` - детальная страница с поддержкой типов контента (text, pdf, video, images); обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Государственные услуги**: добавлены методы `stateServices()`, `registryOfStateServices()`, `stateServiceStandards()` и `stateServiceRegulations()` в `AboutController` - все методы загружают соответствующие модели (StateServices, RegistryOfStateServices, StateServiceStandards, StateServiceRegulations); создан blade шаблон `resources/views/frontend/about/state-services.blade.php` - карточки с текстом и возможными ссылками; создан blade шаблон `resources/views/frontend/about/registry-of-state-services.blade.php` - карточки с текстом и возможными ссылками; создан blade шаблон `resources/views/frontend/about/state-service-standards.blade.php` - карточки с текстом и возможными ссылками; создан blade шаблон `resources/views/frontend/about/state-service-regulations.blade.php` - карточки с текстом и возможными ссылками; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Государственные символы**: добавлены методы `stateFlag()`, `stateEmblem()` и `stateAnthem()` в `AboutController` - все методы загружают первую запись из соответствующих моделей (StateFlag, StateEmblem, StateAnthem) и формируют публичные URL для изображений и аудио файлов; создан blade шаблон `resources/views/frontend/about/state-flag.blade.php` - изображение флага и описание; создан blade шаблон `resources/views/frontend/about/state-emblem.blade.php` - изображение герба и описание; создан blade шаблон `resources/views/frontend/about/state-anthem.blade.php` - изображение, описание, аудио плеер для гимна и текст гимна; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблона для страницы Платные услуги**: добавлен метод `paidServices()` в `AboutController` - загружает платные услуги (PaidService) и формирует публичные URL для изображений; создан blade шаблон `resources/views/frontend/about/paid-services.blade.php` - сетка карточек с изображениями платных услуг (4 колонки на больших экранах, адаптивная сетка для мобильных устройств), карточки с hover-эффектами и масштабированием изображений; обновлен роут в `web.php` для использования blade шаблона вместо MoonShine Page; страница использует единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Комплаенс служба**: добавлены методы `complianceOfficerPlan()`, `corruptionRiskAnalysis()` и `internalRegulations()` в `AboutController` - все методы загружают соответствующие модели (ComplianceOfficerPlan, InternalCorruptionRiskAnalysis, InternalRegulations) и формируют публичные URL для файлов; создан blade шаблон `resources/views/frontend/about/compliance-officer-plan.blade.php` - карточки с заголовком, встроенным PDF в iframe и кнопками для открытия/скачивания файлов; создан blade шаблон `resources/views/frontend/about/corruption-risk-analysis.blade.php` - список документов с иконками PDF и ссылками на файлы; создан blade шаблон `resources/views/frontend/about/internal-regulations.blade.php` - список документов с иконками PDF и ссылками на файлы; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Создание blade шаблонов для всех страниц раздела Картограмма коррупции**: добавлены методы `corruptionRiskPositions()`, `corruptionRiskList()` и `corruptionRiskMap()` в `AboutController` - все методы загружают соответствующие модели (CorruptionRiskPosition, CorruptionRiskList, CorruptionRiskMap) и формируют публичные URL для файлов; создан blade шаблон `resources/views/frontend/about/corruption-risk-positions.blade.php` - список документов с иконками PDF и ссылками на файлы; создан blade шаблон `resources/views/frontend/about/corruption-risk-list.blade.php` - список документов с иконками PDF и ссылками на файлы; создан blade шаблон `resources/views/frontend/about/corruption-risk-map.blade.php` - список документов с иконками PDF и ссылками на файлы; обновлены роуты в `web.php` для использования blade шаблонов вместо MoonShine Pages; все страницы используют единообразные стили (цвет #0d9488, шрифт Montserrat, скругленные углы, тени); добавлена поддержка темной темы и адаптивность для мобильных устройств.
- **Улучшение дропдаунов навигации**: обновлены стили дропдаунов в `resources/views/frontend/layouts/app.blade.php` - уменьшены padding (8px 16px вместо 12px 20px), font-size (13px вместо 14px), min-width (240px вместо 280px), padding меню (6px 0 вместо 8px 0), margin-top (6px вместо 8px); добавлена граница для дропдауна (1px solid rgba(0, 0, 0, 0.08)); улучшены тени (более четкие и компактные); добавлен text-transform: uppercase и letter-spacing для элементов меню; убраны лишние эффекты (translateX, ::before элемент); добавлен JavaScript для задержки закрытия дропдаунов при наведении (200ms) - дропдауны открываются по hover и не закрываются сразу при выходе курсора; улучшены стили для темной темы; дропдауны стали более компактными и четкими, как на референсном изображении.
- **Обновление секции новостей на главной странице**: убран `section-header` (заголовок "НОВОСТИ" и описание) из секции новостей в `resources/views/frontend/home.blade.php` - секция теперь начинается сразу с сетки карточек новостей; изменен лимит новостей с 6 на 3 в `app/Http/Controllers/Frontend/HomeController.php` - на главной странице отображаются только последние 3 новости.
- **Исправление сортировки новостей по дате**: обновлена сортировка новостей в `app/Http/Controllers/Frontend/FrontendController.php` (методы `home()` и `newsList()`) и `app/Http/Controllers/Frontend/HomeController.php` - используется `COALESCE(published_at, created_at) DESC` для правильной сортировки по дате (если `published_at` NULL, используется `created_at`); на главной странице установлен лимит на 3 самые свежие новости (последние по дате); все новости теперь правильно распределены по дате - самые свежие первыми.
- **Удаление section-header из секции Галерея**: убран `section-header` (заголовок "Галерея" и описание) из секции галереи в `resources/views/frontend/home.blade.php` - секция теперь начинается сразу с карусели изображений.

